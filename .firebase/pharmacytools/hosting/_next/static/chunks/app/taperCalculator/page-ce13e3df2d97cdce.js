(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{5377:(e,t,n)=>{Promise.resolve().then(n.bind(n,7289))},1079:(e,t,n)=>{"use strict";var a=n(9018),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,r,l,s,i,c,d,u,p=!1;t||(t={}),l=t.debug||!1;try{if(i=a(),c=document.createRange(),d=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(n){if(n.stopPropagation(),t.format){if(n.preventDefault(),void 0===n.clipboardData){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=o[t.format]||o.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e)}t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(u),c.selectNodeContents(u),d.addRange(c),!document.execCommand("copy"))throw Error("copy command was unsuccessful");p=!0}catch(a){l&&console.error("unable to copy using execCommand: ",a),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),p=!0}catch(a){l&&console.error("unable to copy using clipboardData: ",a),l&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",r=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",s=n.replace(/#{\s*key\s*}/g,r),window.prompt(s,e)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(c):d.removeAllRanges()),u&&document.body.removeChild(u),i()}return p}},8442:(e,t,n)=>{"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=s(n(2115)),r=s(n(1079)),l=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(i,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=p(i);return e=t?Reflect.construct(n,arguments,p(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function i(){var e;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return m(u(e=s.call.apply(s,[this].concat(n))),"onClick",function(t){var n=e.props,a=n.text,l=n.onCopy,s=n.children,i=n.options,c=o.default.Children.only(s),d=(0,r.default)(a,i);l&&l(a,d),c&&c.props&&"function"==typeof c.props.onClick&&c.props.onClick(t)}),e}return n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),a=o.default.Children.only(t);return o.default.cloneElement(a,c(c({},n),{},{onClick:this.onClick}))}}],function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(o.default.PureComponent);t.CopyToClipboard=f,m(f,"defaultProps",{onCopy:void 0,options:void 0})},7837:(e,t,n)=>{"use strict";var a=n(8442).CopyToClipboard;a.CopyToClipboard=a,e.exports=a},9018:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},7289:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5155),o=n(2115);let r=e=>{let{selectedItem:t,onItemSelect:n}=e,[r,l]=(0,o.useState)(!1),s=e=>{n(e),l(!1)};return(0,a.jsxs)("div",{className:"dropdown ".concat(r?"is-active":""),children:[(0,a.jsx)("div",{className:"dropdown-trigger",children:(0,a.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:()=>{l(!r)},children:[(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"icon is-small",children:(0,a.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true"})})]})}),(0,a.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:(0,a.jsxs)("div",{className:"dropdown-content",children:[(0,a.jsx)("a",{href:"#",className:"dropdown-item",onClick:()=>s("Tablet Taper"),children:"Tablet Taper"}),(0,a.jsx)("a",{href:"#",className:"dropdown-item",onClick:()=>s("Eye Drop Taper"),children:"Eye Drop Taper"})]})})]})};var l=n(7837);n(6842);let s=function(){let[e,t]=(0,o.useState)([{dose:0,taperAmount:0,interval:0}]),n=n=>{t(e.filter((e,t)=>t!==n))},r=(n,a,o)=>{let r=[...e];r[n][a]=o,t(r)};function s(e){let t=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"];return e<10?t[e]:e<20?["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"][e-10]:e<100?["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"][Math.floor(e/10)]+(e%10==0?"":" "+t[e%10]):t[Math.floor(e/100)]+" hundred"+(e%100==0?"":" and "+s(e%100))}let[i,c]=(0,o.useState)(""),[d,u]=(0,o.useState)(!1),p=()=>{u(!0),setTimeout(()=>u(!1),5e3)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{style:{padding:"1rem"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"field",style:{maxWidth:"204px"},children:[(0,a.jsx)("label",{className:"label",children:"Select a date (Optional)"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input is-medium",type:"date",id:"date-selector",name:"date-selector"})})]}),e.map((e,t)=>(0,a.jsx)("span",{style:{display:"flex",gap:"1rem"},children:(0,a.jsx)("div",{className:"taper-inputs-container",children:(0,a.jsxs)("div",{className:"taper-input-row",children:[(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Dose"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Dose",value:e.dose,onChange:e=>{r(t,"dose",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Taper Amount"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Amount",value:e.taperAmount,onChange:e=>{r(t,"taperAmount",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Interval"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Interval",value:e.interval,onChange:e=>{r(t,"interval",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,a.jsxs)("div",{className:"field delete-button-container",children:[(0,a.jsx)("label",{className:"label",children:"\xa0"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("button",{className:"button is-danger",onClick:()=>n(t),children:"Delete"})})]})]})})},t)),(0,a.jsxs)("div",{className:"action-buttons-container",children:[(0,a.jsx)("button",{className:"button is-warning",onClick:()=>{t([...e,{dose:0,taperAmount:0,interval:0}])},children:"Add Taper"}),(0,a.jsx)("button",{className:"button is-primary",onClick:()=>{let t=document.getElementById("taperLabel");if(t){t.innerHTML="";let n="",a=e[0].dose,o=document.getElementById("date-selector"),r=(null==o?void 0:o.value)?new Date(o.value):null,l=0,i=0;for(let o=0;o<e.length;o++){let c=o<e.length-1?e[o+1].dose:0;for(;a>c;){let d;let u=document.createElement("p");u.className="field";let p=Math.floor(a/5),m=a%5;if(d=p>0?"Take ".concat(s(p)," 5mg tablets"):"",m>0&&(""!==d?d+=" and ".concat(s(m)," 1mg tablets"):d="Take ".concat(s(m)," 1mg tablets")),d+=" (a ".concat(a,"mg dose)"),r){let t=new Date(r.getTime()+(e[o].interval-1)*864e5);d+=" from ".concat(r.toLocaleDateString()," to ").concat(t.toLocaleDateString()),r=new Date(t.getTime()+864e5)}else d+=" for ".concat(e[o].interval," days");u.textContent=d,t.appendChild(u),n+=d+"\n",l+=p*e[o].interval,i+=m*e[o].interval,a=Math.max(c,a-e[o].taperAmount)}}let d=document.createElement("p");d.className="field subtitle",d.innerHTML="<strong>Total tablets required:</strong> <br> <strong>".concat(l,"</strong> x 5mg tablets & <strong>").concat(i,"</strong> x 1mg tablets"),t.appendChild(d),c(n)}else console.error("Element with id 'taperLabel' not found")},children:"Calculate"}),(0,a.jsx)(l.CopyToClipboard,{text:i,onCopy:p,children:(0,a.jsx)("button",{className:"button is-secondary",children:"Copy Label"})}),(0,a.jsx)(l.CopyToClipboard,{text:"\n      ALERT: I TAKE STEROID MEDICATION\n      I am at risk of adrenal crisis\n\n      IN CASE OF EMERGENCY:\n\n      I need immediate hydrocortisone\n      Call 999 or take me to A&E\n      Show this card to the medical staff\n\n      IMPORTANT:\n\n      I must not stop taking steroids suddenly\n      I need extra steroids during illness or injury\n      I should carry extra medication at all times\n    \n\n"+i+"\n\n--- Additional Information ---\n      - Take your medication as prescribed, usually once a day in the morning with food.\n      - Never stop taking steroids suddenly.\n      - Report any new symptoms or side effects to your healthcare provider promptly.\n      - Attend regular check-ups and blood tests as recommended by your doctor.\n      \n\n--- End of Document ---",onCopy:p,children:(0,a.jsx)("button",{className:"button is-secondary",children:"Document Copy"})}),d&&(0,a.jsxs)("div",{className:"notification is-success animated fadeInDown",style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,opacity:d?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},children:[(0,a.jsx)("button",{className:"delete",onClick:()=>u(!1)}),"Text copied to clipboard!"]})]})]}),(0,a.jsx)("div",{className:"container",id:"taperLabel",style:{marginTop:"2rem"}})]})})};n(9542);let i=e=>{let{onSelect:t}=e,[n,r]=(0,o.useState)("Left"),l=e=>{r(e),t(e)};return(0,a.jsxs)("div",{className:"buttons has-addons field",children:[(0,a.jsx)("button",{className:"button ".concat("Left"===n?"is-primary is-selected":""),onClick:()=>l("Left"),children:"Left"}),(0,a.jsx)("button",{className:"button ".concat("Both"===n?"is-primary is-selected":""),onClick:()=>l("Both"),children:"Both"}),(0,a.jsx)("button",{className:"button ".concat("Right"===n?"is-primary is-selected":""),onClick:()=>l("Right"),children:"Right"})]})},c=function(){let[e,t]=(0,o.useState)([{dropCount:0,frequency:0,interval:0}]),[n,r]=(0,o.useState)("Left"),[s,c]=(0,o.useState)([]),[d,u]=(0,o.useState)(0),[p,m]=(0,o.useState)(""),[f,y]=(0,o.useState)(!1),h=n=>{t(e.filter((e,t)=>t!==n))},b=(n,a,o)=>{let r=[...e];r[n][a]=o,t(r)},x=e=>{console.log("Eye selected:",e),r(e)};function v(e){let t=["","ONCE a day","TWICE a day","THREE times a day","FOUR times a day","FIVE","SIX times a day","SEVEN","every TWO hours","NINE"];return e<10?t[e]:e<20?["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","every HOUR","SEVENTEEN","EIGHTEEN","NINETEEN"][e-10]:t[Math.floor(e/100)]+" hundred"+(e%100==0?"":" and "+v(e%100))}return(0,a.jsxs)("div",{style:{padding:"1rem"},children:[(0,a.jsx)(i,{onSelect:e=>{console.log("Selected eye in parent:",e),x(e)}}),e.map((e,t)=>(0,a.jsxs)("div",{className:"taper-input-row",children:[(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Drop(s)"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Drops per Dose",value:e.dropCount,onChange:e=>{b(t,"dropCount",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))}})})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Frequency / Day"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsxs)("select",{className:"input",value:e.frequency,onChange:e=>{b(t,"frequency",Number(e.target.value))},children:[(0,a.jsx)("option",{value:"0",children:"Select Frequency"}),(0,a.jsx)("option",{value:"16",children:"16"}),(0,a.jsx)("option",{value:"8",children:"8"}),(0,a.jsx)("option",{value:"6",children:"6"}),(0,a.jsx)("option",{value:"4",children:"4"}),(0,a.jsx)("option",{value:"3",children:"3"}),(0,a.jsx)("option",{value:"2",children:"2"}),(0,a.jsx)("option",{value:"1",children:"1"})]})})]}),(0,a.jsxs)("div",{className:"field",children:[(0,a.jsx)("label",{className:"label",children:"Taper Interval"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Interval",value:e.interval,onChange:e=>{b(t,"interval",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))}})})]}),(0,a.jsxs)("div",{className:"field delete-button-container",children:[(0,a.jsx)("label",{className:"label",children:"\xa0"}),(0,a.jsx)("div",{className:"control",children:(0,a.jsx)("button",{className:"button is-danger",onClick:()=>h(t),children:"Delete"})})]})]},t)),(0,a.jsxs)("div",{className:"action-buttons-container",children:[(0,a.jsx)("button",{className:"button is-warning",onClick:()=>{t([...e,{dropCount:0,frequency:0,interval:0}])},children:"Add Taper"}),(0,a.jsx)("button",{className:"button is-primary",onClick:()=>{let t=[],a=0,o=[16,8,6,4,3,2,1],r="[Apply to ".concat(n.toUpperCase()," eye(s)]\n");for(let n=0;n<e.length;n++){let l=e[n],s=n<e.length-1?e[n+1]:null;if(0===l.frequency)continue;let i=o.indexOf(l.frequency);if(-1===i)continue;let c=s?o.indexOf(s.frequency):o.length;-1===c&&(c=o.length);for(let e=i;e<c;e++){let n=o[e],s="Apply ".concat(l.dropCount," drop").concat(l.dropCount>1?"s":""," ").concat(v(n)," for ").concat(l.interval," days");t.push(s),r+=s+"\n",a+=l.dropCount*n*l.interval}if(s&&l.frequency===s.frequency){let e="Apply ".concat(l.dropCount," drop").concat(l.dropCount>1?"s":""," ").concat(v(l.frequency)," for ").concat(l.interval," days");t.push(e),r+=e+"\n",a+=l.dropCount*l.frequency*l.interval;continue}if(s&&c<o.length){for(let e=c;e<o.length;e++){let n=o[e],l="Apply ".concat(s.dropCount," drop").concat(s.dropCount>1?"s":""," ").concat(v(n)," for ").concat(s.interval," days");t.push(l),r+=l+"\n",a+=s.dropCount*n*s.interval}break}}u(a/20),c(t),m(r)},children:"Calculate"}),(0,a.jsx)(l.CopyToClipboard,{text:p,onCopy:()=>{y(!0),setTimeout(()=>y(!1),5e3)},children:(0,a.jsx)("button",{className:"button is-secondary",children:"Copy Label"})}),f&&(0,a.jsxs)("div",{className:"notification is-success animated fadeInDown",style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,opacity:f?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},children:[(0,a.jsx)("button",{className:"delete",onClick:()=>y(!1)}),"Text copied to clipboard!"]})]}),(0,a.jsxs)("div",{id:"taperLabel",className:"mt-4",children:[s.length>0&&(0,a.jsxs)("p",{className:"field has-text-weight-bold",children:["Apply to ",n.toUpperCase()," EYE"]}),s.map((e,t)=>(0,a.jsx)("p",{className:"field",children:e},t)),d>0&&(0,a.jsxs)("p",{className:"field subtitle",children:[(0,a.jsx)("strong",{children:"Total mls needed:"})," ",(0,a.jsx)("br",{}),(0,a.jsx)("strong",{children:d.toFixed(1)})]})]})]})},d=function(){let[e,t]=(0,o.useState)("Tablet Taper");return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{style:{padding:"1rem"},children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"title is-1",children:"Taper Calculator"}),(0,a.jsx)(r,{selectedItem:e,onItemSelect:e=>{t(e)}}),"Tablet Taper"===e&&(0,a.jsx)(s,{}),"Eye Drop Taper"===e&&(0,a.jsx)(c,{})]})})})}},9542:()=>{},6842:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[601,441,517,358],()=>t(5377)),_N_E=e.O()}]);