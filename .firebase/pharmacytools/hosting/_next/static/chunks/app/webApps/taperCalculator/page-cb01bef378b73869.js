(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[230],{8177:(e,t,a)=>{Promise.resolve().then(a.bind(a,1500))},1500:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var n=a(5155),s=a(2115),l=a(9757),r=a(5055);let o=e=>{let{selectedItem:t,onItemSelect:a}=e,[o,i]=(0,s.useState)(!1),c=e=>{a(e),i(!1)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{style:{marginBottom:"0.5rem"},children:(0,n.jsx)("strong",{children:"Select Taper"})}),(0,n.jsxs)("div",{className:"dropdown ".concat(o?"is-active":""),style:{marginBottom:"1rem"},children:[(0,n.jsx)("div",{className:"dropdown-trigger",children:(0,n.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",onClick:()=>{i(!o)},children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("span",{className:"icon is-small",children:(0,n.jsx)(l.g,{icon:r.tdl,"aria-hidden":"true"})})]})}),(0,n.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:(0,n.jsxs)("div",{className:"dropdown-content",children:[(0,n.jsx)("a",{href:"#",className:"dropdown-item",onClick:()=>c("Tablet Taper"),children:"Tablet Taper"}),(0,n.jsx)("a",{href:"#",className:"dropdown-item",onClick:()=>c("Eye Drop Taper"),children:"Eye Drop Taper"})]})})]})]})};a(8830);let i=function(){let[e,t]=(0,s.useState)([{dose:0,taperAmount:0,interval:0}]),a=a=>{t(e.filter((e,t)=>t!==a))},l=(a,n,s)=>{let l=[...e];l[a][n]=s,t(l)};function r(e){let t=["","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE"];return e<10?t[e]:e<20?["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN"][e-10]:e<100?["","","TWENTY","THIRTY","FORTY","FIFTY","SIXTY","SEVENTY","EIGHTY","NINETY"][Math.floor(e/10)]+(e%10==0?"":" "+t[e%10]):t[Math.floor(e/100)]+" hundred"+(e%100==0?"":" and "+r(e%100))}let[o,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),u=async e=>{try{await navigator.clipboard.writeText(e),d(!0),setTimeout(()=>d(!1),5e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"field",style:{maxWidth:"204px"},children:[(0,n.jsx)("label",{className:"label",children:"Select a date (Optional)"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input is-medium",type:"date",id:"date-selector",name:"date-selector"})})]}),e.map((e,t)=>(0,n.jsx)("span",{style:{display:"flex",gap:"1rem"},children:(0,n.jsx)("div",{className:"taper-inputs-container",children:(0,n.jsxs)("div",{className:"taper-input-row",children:[(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Dose"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Dose",value:e.dose,onChange:e=>{l(t,"dose",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Taper Amount"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Amount",value:e.taperAmount,onChange:e=>{l(t,"taperAmount",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Interval"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Interval",value:e.interval,onChange:e=>{l(t,"interval",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}})})]}),(0,n.jsxs)("div",{className:"field delete-button-container",children:[(0,n.jsx)("label",{className:"label",children:"\xa0"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("button",{className:"button is-danger",onClick:()=>a(t),children:"Delete"})})]})]})})},t)),(0,n.jsxs)("div",{className:"action-buttons-container",children:[(0,n.jsx)("button",{className:"button is-warning",onClick:()=>{t([...e,{dose:0,taperAmount:0,interval:0}])},children:"Add Taper"}),(0,n.jsx)("button",{className:"button is-primary",onClick:()=>{let t=document.getElementById("taperLabel");if(t){t.innerHTML="";let a="",n=e[0].dose,s=document.getElementById("date-selector"),l=(null==s?void 0:s.value)?new Date(s.value):null,o=0,c=0;for(let s=0;s<e.length;s++){let i=s<e.length-1?e[s+1].dose:0;for(;n>i;){let d;let u=document.createElement("p");u.className="field";let m=Math.floor(n/5),p=n%5;if(d=m>0?"Take ".concat(r(m)," 5mg tablets"):"",p>0&&(""!==d?d+=" and ".concat(r(p)," 1mg tablets"):d="Take ".concat(r(p)," 1mg tablets")),d+=" (a ".concat(n,"mg dose)"),l){let t=new Date(l.getTime()+(e[s].interval-1)*864e5);d+=" from ".concat(l.toLocaleDateString()," to ").concat(t.toLocaleDateString()),l=new Date(t.getTime()+864e5)}else d+=" for ".concat(e[s].interval," days");u.textContent=d,t.appendChild(u),a+=d+"\n",o+=m*e[s].interval,c+=p*e[s].interval,n=Math.max(i,n-e[s].taperAmount)}}let d=document.createElement("p");d.className="field subtitle",d.innerHTML="<strong>Total tablets required:</strong> <br> <strong>".concat(o,"</strong> x 5mg tablets & <strong>").concat(c,"</strong> x 1mg tablets"),t.appendChild(d),i(a)}else console.error("Element with id 'taperLabel' not found")},children:"Calculate"}),(0,n.jsx)("button",{className:"button is-secondary",onClick:()=>u(o),children:"Copy Label"}),(0,n.jsx)("button",{className:"button is-secondary",onClick:()=>u("\n      ALERT: I TAKE STEROID MEDICATION\n      I am at risk of adrenal crisis\n\n      IN CASE OF EMERGENCY:\n\n      I need immediate hydrocortisone\n      Call 999 or take me to A&E\n      Show this card to the medical staff\n\n      IMPORTANT:\n\n      I must not stop taking steroids suddenly\n      I need extra steroids during illness or injury\n      I should carry extra medication at all times\n    \n\n"+o+"\n\n--- Additional Information ---\n      - Take your medication as prescribed, usually once a day in the morning with food.\n      - Never stop taking steroids suddenly.\n      - Report any new symptoms or side effects to your healthcare provider promptly.\n      - Attend regular check-ups and blood tests as recommended by your doctor.\n      \n\n--- End of Document ---"),children:"Document Copy"}),c&&(0,n.jsxs)("div",{className:"notification is-success animated fadeInDown",style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,opacity:c?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},children:[(0,n.jsx)("button",{className:"delete",onClick:()=>d(!1)}),"Text copied to clipboard!"]})]})]}),(0,n.jsx)("div",{className:"container",id:"taperLabel",style:{marginTop:"2rem"}})]})})};a(2107);let c=e=>{let{onSelect:t}=e,[a,l]=(0,s.useState)("Left"),r=e=>{l(e),t(e)};return(0,n.jsxs)("div",{className:"buttons has-addons field",children:[(0,n.jsx)("button",{className:"button ".concat("Left"===a?"is-primary is-selected":""),onClick:()=>r("Left"),children:"Left"}),(0,n.jsx)("button",{className:"button ".concat("Both"===a?"is-primary is-selected":""),onClick:()=>r("Both"),children:"Both"}),(0,n.jsx)("button",{className:"button ".concat("Right"===a?"is-primary is-selected":""),onClick:()=>r("Right"),children:"Right"})]})},d=function(){let[e,t]=(0,s.useState)([{dropCount:0,frequency:0,interval:0}]),[a,l]=(0,s.useState)("Left"),[r,o]=(0,s.useState)([]),[i,d]=(0,s.useState)(0),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),x=async e=>{try{await navigator.clipboard.writeText(e),h(!0),setTimeout(()=>h(!1),5e3)}catch(e){console.error("Failed to copy text: ",e)}},N=a=>{t(e.filter((e,t)=>t!==a))},j=(a,n,s)=>{let l=[...e];l[a][n]=s,t(l)},v=e=>{console.log("Eye selected:",e),l(e)};function E(e){let t=["","ONCE a day","TWICE a day","THREE times a day","FOUR times a day","FIVE","SIX times a day","SEVEN","every TWO hours","NINE"];return e<10?t[e]:e<20?["TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","every HOUR","SEVENTEEN","EIGHTEEN","NINETEEN"][e-10]:t[Math.floor(e/100)]+" hundred"+(e%100==0?"":" and "+E(e%100))}return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{style:{marginBottom:"0.5rem"},children:(0,n.jsx)("strong",{children:"Select Eye(s)"})}),(0,n.jsx)(c,{onSelect:e=>{console.log("Selected eye in parent:",e),v(e)}}),e.map((e,t)=>(0,n.jsxs)("div",{className:"taper-input-row",children:[(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Drop(s)"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Drops per Dose",value:e.dropCount,onChange:e=>{j(t,"dropCount",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))}})})]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Frequency / Day"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsxs)("select",{className:"input",value:e.frequency,onChange:e=>{j(t,"frequency",Number(e.target.value))},children:[(0,n.jsx)("option",{value:"0",children:"Select Frequency"}),(0,n.jsx)("option",{value:"16",children:"16"}),(0,n.jsx)("option",{value:"8",children:"8"}),(0,n.jsx)("option",{value:"6",children:"6"}),(0,n.jsx)("option",{value:"4",children:"4"}),(0,n.jsx)("option",{value:"3",children:"3"}),(0,n.jsx)("option",{value:"2",children:"2"}),(0,n.jsx)("option",{value:"1",children:"1"})]})})]}),(0,n.jsxs)("div",{className:"field",children:[(0,n.jsx)("label",{className:"label",children:"Taper Interval"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("input",{className:"input",type:"number",min:"0",step:"1",placeholder:"Enter Taper Interval",value:e.interval,onChange:e=>{j(t,"interval",""===e.target.value?"":Math.max(0,Math.floor(Number(e.target.value))))}})})]}),(0,n.jsxs)("div",{className:"field delete-button-container",children:[(0,n.jsx)("label",{className:"label",children:"\xa0"}),(0,n.jsx)("div",{className:"control",children:(0,n.jsx)("button",{className:"button is-danger",onClick:()=>N(t),children:"Delete"})})]})]},t)),(0,n.jsxs)("div",{className:"action-buttons-container",children:[(0,n.jsx)("button",{className:"button is-warning",onClick:()=>{t([...e,{dropCount:0,frequency:0,interval:0}])},children:"Add Taper"}),(0,n.jsx)("button",{className:"button is-primary",onClick:()=>{let t=[],n=0,s=[16,8,6,4,3,2,1],l="[Apply to ".concat(a.toUpperCase()," eye(s)]\n");for(let a=0;a<e.length;a++){let r=e[a],o=a<e.length-1?e[a+1]:null;if(0===r.frequency)continue;let i=s.indexOf(r.frequency);if(-1===i)continue;let c=o?s.indexOf(o.frequency):s.length;-1===c&&(c=s.length);for(let e=i;e<c;e++){let a=s[e],o="Apply ".concat(r.dropCount," drop").concat(r.dropCount>1?"s":""," ").concat(E(a)," for ").concat(r.interval," days");t.push(o),l+=o+"\n",n+=r.dropCount*a*r.interval}if(o&&r.frequency===o.frequency){let e="Apply ".concat(r.dropCount," drop").concat(r.dropCount>1?"s":""," ").concat(E(r.frequency)," for ").concat(r.interval," days");t.push(e),l+=e+"\n",n+=r.dropCount*r.frequency*r.interval;continue}if(o&&c<s.length){for(let e=c;e<s.length;e++){let a=s[e],r="Apply ".concat(o.dropCount," drop").concat(o.dropCount>1?"s":""," ").concat(E(a)," for ").concat(o.interval," days");t.push(r),l+=r+"\n",n+=o.dropCount*a*o.interval}break}}d(n/20),o(t),m(l)},children:"Calculate"}),(0,n.jsx)("button",{className:"button is-secondary",onClick:()=>x(u),children:"Copy Label"}),p&&(0,n.jsxs)("div",{className:"notification is-success animated fadeInDown",style:{position:"fixed",top:"10px",left:"50%",transform:"translateX(-50%)",zIndex:1e3,opacity:p?1:0,transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},children:[(0,n.jsx)("button",{className:"delete",onClick:()=>h(!1)}),"Text copied to clipboard!"]})]}),(0,n.jsxs)("div",{id:"taperLabel",className:"mt-4",children:[r.length>0&&(0,n.jsxs)("p",{className:"field has-text-weight-bold",children:["Apply to ",a.toUpperCase()," EYE"]}),r.map((e,t)=>(0,n.jsx)("p",{className:"field",children:e},t)),i>0&&(0,n.jsxs)("p",{className:"field subtitle",children:[(0,n.jsx)("strong",{children:"Total mls needed:"})," ",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:i.toFixed(1)})]})]})]})},u=function(){let[e,t]=(0,s.useState)("Tablet Taper");return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"container",style:{paddingLeft:"20px",paddingRight:"20px"},children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"title is-1",children:"Taper Calculator"}),(0,n.jsx)(o,{selectedItem:e,onItemSelect:e=>{t(e)}}),"Tablet Taper"===e&&(0,n.jsx)(i,{}),"Eye Drop Taper"===e&&(0,n.jsx)(d,{})]})})})}},2107:()=>{},8830:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[235,266,757,441,517,358],()=>t(8177)),_N_E=e.O()}]);